<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rajwadi Security - SOC Helper (AI Help)</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="/static/cyber.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body style="background: var(--cyber-bg); color: var(--cyber-text); font-family: 'Inter', 'Segoe UI', 'Roboto', Arial, sans-serif;">
    <div class="container py-5">
        <div class="card mb-4" style="background: var(--cyber-panel);">
            <div class="card-header text-center" style="background: var(--cyber-accent); color: var(--cyber-bg);">
                <h2 class="fw-bold mb-0" style="font-family: 'JetBrains Mono', monospace;">SOC Helper (AI Help)</h2>
            </div>
            <div class="card-body">
                <p class="lead text-center" style="color: var(--cyber-muted);">Your Security Operations Center assistant for threat intelligence, log analysis, and incident response.</p>
            </div>
        </div>
        <!-- Threat Intelligence Lookup -->
        <div class="card mb-4">
            <div class="card-header"><i class="fas fa-search me-2"></i> Threat Intelligence Lookup</div>
            <div class="card-body">
                <form id="threat-intel-form" class="row g-2 align-items-center">
                    <div class="col-auto">
                        <input type="text" class="form-control" id="ti-input" placeholder="Enter IP or domain">
                    </div>
                    <div class="col-auto">
                        <button type="submit" class="btn btn-primary">Lookup</button>
                    </div>
                </form>
                <pre id="ti-result" class="mt-3" style="background: #181818; color: #00ffae; padding: 10px; border-radius: 6px;">Result will appear here...</pre>
            </div>
        </div>
        <!-- Log Search -->
        <div class="card mb-4">
            <div class="card-header"><i class="fas fa-filter me-2"></i> Log Search & Filtering</div>
            <div class="card-body">
                <form id="log-search-form" class="row g-2 align-items-center">
                    <div class="col-auto">
                        <input type="text" class="form-control" id="log-search-input" placeholder="Search logs (keyword, user, event)">
                    </div>
                    <div class="col-auto">
                        <button type="submit" class="btn btn-primary">Search</button>
                    </div>
                </form>
                <pre id="log-search-result" class="mt-3" style="background: #181818; color: #00ffae; padding: 10px; border-radius: 6px;">Results will appear here...</pre>
            </div>
        </div>
        <!-- Incident Playbooks -->
        <div class="card mb-4">
            <div class="card-header"><i class="fas fa-book me-2"></i> Incident Response Playbooks</div>
            <div class="card-body">
                <ul class="list-group">
                    <li class="list-group-item bg-dark text-white">Phishing Email Investigation (coming soon)</li>
                    <li class="list-group-item bg-dark text-white">Malware Outbreak Response (coming soon)</li>
                    <li class="list-group-item bg-dark text-white">Unauthorized Access (coming soon)</li>
                </ul>
            </div>
        </div>
        <!-- Quick System Info -->
        <div class="card mb-4">
            <div class="card-header"><i class="fas fa-info-circle me-2"></i> Quick System Info</div>
            <div class="card-body row text-center">
                <div class="col-md-4 mb-2">
                    <div class="fw-bold" style="color: var(--cyber-accent);">CPU Usage</div>
                    <div id="sys-cpu" style="font-size: 1.3em;">--%</div>
                </div>
                <div class="col-md-4 mb-2">
                    <div class="fw-bold" style="color: var(--cyber-accent);">Memory Usage</div>
                    <div id="sys-mem" style="font-size: 1.3em;">--%</div>
                </div>
                <div class="col-md-4 mb-2">
                    <div class="fw-bold" style="color: var(--cyber-accent);">Threat Level</div>
                    <div id="sys-threat" style="font-size: 1.3em;">--</div>
                </div>
            </div>
        </div>
        <!-- AI Q&A -->
        <div class="card mb-4">
            <div class="card-header"><i class="fas fa-robot me-2"></i> AI Q&A (Ask Security Questions)</div>
            <div class="card-body">
                <form id="ai-qa-form" class="row g-2 align-items-center">
                    <div class="col-auto flex-grow-1" style="flex:1;">
                        <input type="text" class="form-control" id="ai-qa-input" placeholder="Ask a security question (e.g., 'How to investigate a suspicious login?')">
                    </div>
                    <div class="col-auto">
                        <button type="submit" class="btn btn-primary">Ask</button>
                    </div>
                </form>
                <pre id="ai-qa-result" class="mt-3" style="background: #181818; color: #00ffae; padding: 10px; border-radius: 6px;">AI answer will appear here... (feature coming soon)</pre>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Threat Intelligence Lookup (placeholder fetch)
        document.getElementById('threat-intel-form').addEventListener('submit', function(e) {
            e.preventDefault();
            const ip = document.getElementById('ti-input').value;
            const result = document.getElementById('ti-result');
            result.textContent = 'Looking up...';
            fetch(`/api/threat-intel/${ip}`)
                .then(res => res.json())
                .then(data => {
                    result.textContent = JSON.stringify(data, null, 2);
                })
                .catch(err => {
                    result.textContent = 'Error: ' + err;
                });
        });
        // Log Search (placeholder fetch)
        document.getElementById('log-search-form').addEventListener('submit', function(e) {
            e.preventDefault();
            const q = document.getElementById('log-search-input').value;
            const result = document.getElementById('log-search-result');
            result.textContent = 'Searching...';
            fetch(`/api/logs/search?q=${encodeURIComponent(q)}`)
                .then(res => res.json())
                .then(data => {
                    result.textContent = JSON.stringify(data, null, 2);
                })
                .catch(err => {
                    result.textContent = 'Error: ' + err;
                });
        });
        // Quick System Info (fetch from /api/security/metrics)
        function updateSysInfo() {
            fetch('/api/security/metrics')
                .then(res => res.json())
                .then(data => {
                    document.getElementById('sys-cpu').textContent = data.cpu.current + '%';
                    document.getElementById('sys-mem').textContent = data.memory.current + '%';
                    document.getElementById('sys-threat').textContent = data.threat.level !== undefined ? ['Normal','Low','Medium','High'][data.threat.level] : '--';
                })
                .catch(() => {
                    document.getElementById('sys-cpu').textContent = '--%';
                    document.getElementById('sys-mem').textContent = '--%';
                    document.getElementById('sys-threat').textContent = '--';
                });
        }
        updateSysInfo();
        setInterval(updateSysInfo, 2000);
        // AI Q&A (placeholder)
        document.getElementById('ai-qa-form').addEventListener('submit', function(e) {
            e.preventDefault();
            const q = document.getElementById('ai-qa-input').value;
            document.getElementById('ai-qa-result').textContent = 'AI answer will appear here... (feature coming soon)';
        });
    </script>
</body>
</html> 